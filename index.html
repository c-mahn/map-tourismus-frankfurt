<!DOCTYPE html>
<html lang="de">

  <head>
  <meta charset="utf-8"/>

	<!-- Titel der Website -->
    <title>Karte zur Energiewende Hamburg</title>

    <!-- Definition der nötigen Style-Dateien -->
    <link rel="stylesheet" href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v6.5.0/css/ol.css">
    <link rel="stylesheet" href="https://unpkg.com/ol-layerswitcher@3.8.3/src/ol-layerswitcher.css" />

    <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v6.5.0/build/ol.js"></script>
    <script src="https://unpkg.com/ol-layerswitcher@3.8.3"></script>

	<!-- Definition zusätzlicher eigener Style-Angaben -->
	<style>
      #map {
        height: 80vh;
        width: 100%;
      }
    </style>

  </head>

  <!-- Beginn des HTML-Quelltextes -->
  <body style="background-color:rgb(158, 158, 158)">

	<!-- Sichtbarer Titel im Kopf der Webseite -->
    <h1 style="color:rgb(250, 250, 250)"><font face="Verdana">Tourismus in Frankfurt</font></h1>

	<!-- Definition des div-Elements für die Platzierung der Karte im HTML -->
	<div id="map" class="map"></div>
	<div style="color:rgb(250, 250, 250)" id="mouse-position"></div>
	  
	
	<!-- Beginn der eigenen Jaavascript-Konfiguration -->
    <script type="text/javascript">

		// Definition des Kartenausschnitts als Bounding Box
		var extent = [430000.0, 5520000.0, 525000.0, 5600000.0];

        var mousePositionControl = new ol.control.MousePosition({
        coordinateFormat: new ol.coordinate.createStringXY(4),
        projection: 'EPSG:25832',
        // comment the following two lines to have the mouse position
        // be placed within the map.
        className: 'custom-mouse-position',
        target: document.getElementById('mouse-position'),
        undefinedHTML: '&nbsp;'
        });

		// Definition der Projektion EPSG:25832
        ol.proj.addProjection(new ol.proj.Projection({
            code: 'EPSG:25832',
            units: 'm',
            extent: extent,
            axisOrientation: 'enu', // default
            global: false  // default
        }));
        var proj25832 = ol.proj.get('EPSG:25832');

	  //Definition der Karte mit den entsprechenden Eigenschaften
	  var map = new ol.Map({

		// div-Tag-Name in der die Karte dargestellt werden soll
		target: 'map',

		// Controls auf der Karte
        controls: ol.control.defaults().extend([
			new ol.control.ZoomSlider(),
			new ol.control.FullScreen(),
			new ol.control.LayerSwitcher(),
			mousePositionControl
			]),

		//	Definition einer Layerliste
		layers: [

			// Definition des zweiten Base-Layers (Hintergrundkarte) als WMS (Tiled=gekachelt)
			new ol.layer.Tile({
				title: "Standard-Hintergrund (Geobasiskarte_schwarzgrau)",
				source: new ol.source.TileWMS({
					url: 'https://geodienste.hamburg.de/HH_WMS_Geobasiskarten_SG',
					type: 'base',
					attributions: [
							'<a href="http://www.geoinfo.hamburg.de">Landesbetrieb Geoinformation und Vermessung</a>'
					],
					params: {
					'LAYERS': 'Geobasiskarten_schwarzgrau',
					'FORMAT': 'image/png'
					}
				}),
				opacity: 1
			}),

			// Definition des zweiten Base-Layers (Hintergrundkarte) als WMS (Tiled=gekachelt)
			new ol.layer.Tile({
				title: "Global Basemap",
				source: new ol.source.TileWMS({
					url: 'https://sgx.geodatenzentrum.de/wms_topplus_open',
					type: 'base',
					attributions: [
								'<a href="http://www.geoinfo.hamburg.de">Landesbetrieb Geoinformation und Vermessung</a>'
					],
					params: {
					'LAYERS': 'web_grau',
					'FORMAT': 'image/png'
					}
				}),
				opacity: 1
			}),

			// Definition des zweiten Base-Layers (Hintergrundkarte) als WMS (Tiled=gekachelt)
			new ol.layer.Tile({
				title: "Standard-Hintergrund (Geobasiskarte_farbig)",
				source: new ol.source.TileWMS({
					url: 'https://geodienste.hamburg.de/HH_WMS_Geobasiskarten',
					type: 'base',
					attributions: [
								'<a href="http://www.geoinfo.hamburg.de">Landesbetrieb Geoinformation und Vermessung</a>'
					],
					params: {
					'LAYERS': 'Geobasiskarten_farbig',
					'FORMAT': 'image/png'
					}
				}),
				visible: false
			}),

			// Definition des ersten Base-Layers (Hintergrundkarte) als WMS (Tiled=gekachelt)
			new ol.layer.Tile({
				title: '"Satelliten-Ansicht" (Luftbildbeflug DOP20)',
				source: new ol.source.TileWMS({
					url: 'https://geodienste.hamburg.de/HH_WMS_DOP',
					type: 'base',
					attributions: [
								'<a href="http://www.geoinfo.hamburg.de">Landesbetrieb Geoinformation und Vermessung</a>'
					],
					params: {
						'LAYERS': 'DOP',
						'FORMAT': 'image/png'
					}
				}),
				visible: false
			}),

			// Definition des dritten Base-Layers (Schriftplatte) als WMS (Tiled=gekachelt)
			new ol.layer.Tile({
				title: "Erweiterte Beschriftungen (Schriftplatte)",
				source: new ol.source.TileWMS({
					url: 'https://geodienste.hamburg.de/HH_WMS_Geobasiskarten_Schriftplatte',
					type: 'base',
					attributions: [
								'<a href="http://www.geoinfo.hamburg.de">Landesbetrieb Geoinformation und Vermessung</a>'
					],
					params: {
						'LAYERS': 'Geobasiskarten_Schriftplatte',
						'FORMAT': 'image/png'
					}
				}),
				visible: true
			}),

			// Definition eines weiteren ueberlagernden Layers als WMS (Tiled=gekachelt), beim Start ist der deaktiviert (visible=false)
			new ol.layer.Tile({
				title: "Aussichtspunkte",
				source: new ol.source.TileWMS({
					url: 'http://localhost:8080/deegree-webservices/services/aussichtspunkt_wms',
					params: {
						'LAYERS': 'Aussichtspunkt',
						'FORMAT': 'image/png'
					}
				}),
				visible: false
			}),

			
		// Ende der Layerliste
        ],




		// Definition des Views mit seinen Eigenschaften
        view: new ol.View({
          projection: proj25832,
          center: [476243, 5553046],
          zoom: 0,
		  resolutions : [66.14579761460263, 26.458319045841046, 15.874991427504629, 10.583327618336419, 5.2916638091682096, 2.6458319045841048, 1.3229159522920524, 0.6614579761460262, 0.2645831904584105],
		  maxResolution: "auto"
        })
      });



	  // Erzeuge eine LayerSwitcher Instanz für die Karte
		//var layerSwitcher = new ol.control.LayerSwitcher();
		//map.addControl(layerSwitcher);



    </script>
  </body>
</html>
